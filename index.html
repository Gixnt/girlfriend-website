<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>How much do you love Rami</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      min-height: 100vh;
      overflow: hidden;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 25%, #f093fb 50%, #4facfe 75%, #00f2fe 100%);
      background-size: 400% 400%;
      animation: gradientShift 20s ease infinite;
      display: flex;
      justify-content: center;
      align-items: center;
      position: relative;
      padding: 20px;
    }

    @keyframes gradientShift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    .container {
      text-align: center;
      padding: 50px;
      background: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(20px);
      border-radius: 40px;
      box-shadow: 0 25px 80px rgba(0, 0, 0, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.3);
      max-width: 900px;
      width: 100%;
      position: relative;
      border: 2px solid rgba(255, 255, 255, 0.2);
      z-index: 10;
      margin: 20px auto;
      animation: fadeIn 1s ease;
      overflow: hidden;
      transform: translateZ(0); /* Force GPU rendering layer */
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(-30px) scale(0.95); }
      to { opacity: 1; transform: translateY(0) scale(1); }
    }

    h1 {
      font-size: 3em;
      margin-bottom: 20px;
      background: linear-gradient(135deg, #ff6b9d, #ffd93d, #6bcf7f);
      background-clip: text;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-shadow: 0 0 30px rgba(255, 107, 157, 0.5);
    }

    .prompt {
      font-size: 1.6em;
      margin-bottom: 40px;
      color: white;
      text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
      font-weight: 600;
    }

    .button-container {
      display: flex;
      justify-content: center;
      gap: 30px;
      position: relative;
      min-height: 100px;
    }

    button {
      padding: 20px 50px;
      font-size: 1.4em;
      border: none;
      border-radius: 60px;
      cursor: pointer;
      font-weight: bold;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
      position: relative;
      transition: all 0.3s ease;
    }

    #yesBtn {
      background: linear-gradient(135deg, #ff6b9d, #ff4d7d);
      color: white;
    }

    #yesBtn:hover {
      transform: scale(1.15);
      box-shadow: 0 15px 40px rgba(255, 77, 125, 0.6);
    }

    #noBtn {
      background: linear-gradient(135deg, #a8edea, #fed6e3);
      color: #333;
      position: static;
    }

    #noBtn.runaway {
      position: fixed;
      z-index: 1000;
      transition: left 0.25s ease, top 0.25s ease, transform 0.15s ease;
      will-change: left, top;
    }

    /* --- CSS for sections --- */
    .menu-section,
    .content-section {
      display: none; /* All sections are hidden by default */
      opacity: 0;
    }

    .menu-section.active,
    .content-section.active {
      /* display: block;  <-- No longer needed here */
      animation: fadeIn 1s ease forwards;
    }
    /* ------------------------ */

    .menu-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin-top: 30px;
    }

    .menu-btn {
      padding: 30px 20px;
      font-size: 1.1em;
      background: rgba(255, 255, 255, 0.2);
      backdrop-filter: blur(10px);
      border: 2px solid rgba(255, 255, 255, 0.3);
      border-radius: 20px;
      color: white;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .menu-btn:hover {
      transform: translateY(-5px) scale(1.05);
      background: rgba(255, 255, 255, 0.3);
    }

    .back-btn {
      padding: 12px 30px;
      font-size: 1em;
      margin-bottom: 30px;
      background: rgba(255, 255, 255, 0.2);
      border: 2px solid rgba(255, 255, 255, 0.3);
      color: white;
    }

    #highlightsSection .prompt {
      margin-bottom: 20px;
    }

    .photo-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
      gap: 18px;
      margin-top: 10px;
      align-items: start;
    }

    .photo {
      background: #fff;
      padding: 10px 10px 20px;
      border-radius: 6px;
      box-shadow: 0 10px 25px rgba(0,0,0,0.25);
      display: inline-block;
      text-align: center;
      transform-origin: center center;
      width: 100%;
      max-width: 240px;
    }

    .photo img {
      width: 100%;
      height: 160px;
      object-fit: cover;
      display: block;
      border-radius: 4px;
      background: #f0f0f0;
    }

    .photo figcaption {
      margin-top: 8px;
      font-size: 0.9em;
      color: #333;
      font-weight: 600;
    }

    .photo-grid .photo:nth-child(7n+1) { transform: rotate(-3deg); }
    .photo-grid .photo:nth-child(7n+2) { transform: rotate(2deg); }
    .photo-grid .photo:nth-child(7n+3) { transform: rotate(-1.5deg); }
    .photo-grid .photo:nth-child(7n+4) { transform: rotate(1.5deg); }
    .photo-grid .photo:nth-child(7n+5) { transform: rotate(-2deg); }
    .photo-grid .photo:nth-child(7n+6) { transform: rotate(1deg); }
    .photo-grid .photo:nth-child(7n+7) { transform: rotate(0deg); }

    .letter-wrapper {
      display: flex;
      justify-content: center;
      margin-top: 24px;
    }

    .letter {
      background: linear-gradient(180deg, #fffaf0 0%, #fff4e6 100%);
      border: 1px solid rgba(0,0,0,0.06);
      width: 90%;
      max-width: 760px;
      padding: 36px 44px;
      border-radius: 6px;
      box-shadow: 0 18px 50px rgba(0,0,0,0.35), inset 0 1px 0 rgba(255,255,255,0.6);
      font-family: 'Garamond', 'Georgia', 'Times New Roman', serif;
      color: #222;
      line-height: 1.65;
      position: relative;
      letter-spacing: 0.2px;
      max-height: 60vh;
      overflow-y: auto;
      scrollbar-width: none;  /* Firefox */
      -ms-overflow-style: none; /* IE and Edge */
    }
    
    .letter::-webkit-scrollbar {
      display: none;
    }

    .letter:before {
      content: '';
      position: absolute;
      left: 18px;
      top: 12px;
      right: 18px;
      bottom: 12px;
      border-radius: 4px;
      pointer-events: none;
      box-shadow: inset 0 0 40px rgba(0,0,0,0.02);
    }

    .letter h2 {
      font-family: 'Garamond', 'Georgia', serif;
      font-size: 1.25em;
      margin-bottom: 12px;
      color: #3a2d21;
      text-align: left;
    }

    .letter p {
      margin: 12px 0;
      font-size: 1.05em;
      text-align: left;
    }

    .letter .closing {
      margin-top: 18px;
      font-style: italic;
    }

    .signature {
      margin-top: 20px;
      text-align: right;
      font-family: 'Brush Script MT', 'Lucida Handwriting', cursive;
      font-size: 1.35em;
      color: #2b1f13;
    }

    /* ===== START OF CSS FIX 2 ===== */
    .wax-seal {
      position: sticky;   /* <-- This is correct from before */
      left: 28px;
      bottom: 18px;
      z-index: 10;
      width: 56px;
      height: 56px;
      background: radial-gradient(circle at 35% 30%, #d84b4b, #8b2b2b 60%);
      border-radius: 50%;
      box-shadow: 0 6px 18px rgba(0,0,0,0.35);
      /* Start it rotated AND moved down 20px */
      transform: rotate(12deg) translateY(20px); 
      display: flex;
      align-items: center;
      justify-content: center;
      color: rgba(255,255,255,0.9);
      font-weight: 700;
      font-family: serif;

      /* --- NEW CSS TO HIDE IT --- */
      opacity: 0; /* Start fully transparent */
      pointer-events: none; /* Can't be clicked while hidden */
      /* Animate the opacity and transform */
      transition: opacity 0.3s ease, transform 0.3s ease; 
    }

    /* --- NEW RULE TO SHOW IT --- */
    .wax-seal.visible {
        opacity: 1; /* Fade it in */
        /* Move it back to its original position */
        transform: rotate(12deg) translateY(0); 
        pointer-events: auto; /* Make it clickable again */
    }
    /* ===== END OF CSS FIX 2 ===== */
  </style>
</head>
<body>
  <div class="container" id="mainContainer">
    <div id="questionSection">
      <h1>hey Emiliaaa</h1>
      <p class="prompt" id="prompt">Do you love me?</p>
      <div class="button-container">
        <button id="yesBtn">Yes!</button>
        <button id="noBtn">No</button>
      </div>
    </div>

    <div class="menu-section" id="menuSection">
      <h1>I got some stuff for you </h1>
      <p class="prompt">What would you like to see</p>
      <div class="menu-grid">
        <button class="menu-btn" onclick="showSection('highlights')">Favourite Moments I Have Of You</button>
        <button class="menu-btn" onclick="showSection('loveLetter')">Love Letter</button>
        <button class="menu-btn" onclick="showSection('playlist')">Playlist I made for you</button>
      </div>
    </div>

    <div class="content-section" id="highlightsSection">
      <button class="back-btn" onclick="backToMenu()">‚Üê Back to Menu</button>
      <h1>My Favorite Moments</h1>
      <p class="prompt">Some of my favorite photos of us (and you).</p>

      <div class="photo-grid">
        <figure class="photo"><img src="20250824_115955.jpg" alt="Photo 1"><figcaption>Photo 1</figcaption></figure>
        <figure class="photo"><img src="20250824_123753.jpg" alt="Photo 2"><figcaption>Photo 2</figcaption></figure>
        <figure class="photo"><img src="20250921_153547.jpg" alt="Photo 3"><figcaption>Photo 3</figcaption></figure>
        <figure class="photo"><img src="20251017_180536.jpg" alt="Photo 4"><figcaption>Photo 4</figcaption></figure>
        <figure class="photo"><img src="20251024_150829.jpg" alt="Photo 5"><figcaption>Photo 5</figcaption></figure>
        <figure class="photo"><img src="IMG_20250801_212709_092.jpg" alt="Photo 6"><figcaption>Photo 6</figcaption></figure>
        <figure class="photo"><img src="IMG-20250624-WA0017.jpg" alt="Photo 7"><figcaption>Photo 7</figcaption></figure>
        <figure class="photo"><img src="20251005_114818.jpg" alt="Photo 8"><figcaption>Photo 8</figcaption></figure>
        <figure class="photo"><img src="Snapchat-1273583367.jpg" alt="Photo 9"><figcaption>Photo 9</figcaption></figure>
        <figure class="photo"><img src="IMG-20250624-WA0007.jpg" alt="Photo 10"><figcaption>Photo 10</figcaption></figure>
      </div>

    </div>

    <div class="content-section" id="loveLetterSection">
        <button class="back-btn" onclick="backToMenu()">‚Üê Back to Menu</button>
        <h1>A letter I wrote for you</h1>

        <div class="letter-wrapper">
          <article class="letter" aria-label="Love letter to Emilia">
            
            <h2>Dear Emilia,</h2>

            <p>I know you might not like reading a love letter like this, maybe it's too cheesy for you. But I just want to tell you how grateful I am to have you in my life. You‚Äôve become such an important part of my world, and that‚Äôs something I‚Äôll always cherish.</p>

            <p>From the day I met you until now, there‚Äôs nothing I‚Äôve wanted more than to keep you by my side constantly.</p>

            <p>I love that you have a passion for finding secondhand items on Vinted or some random site, only you would know about God knows what. You could find half a shirt somewhere, and you‚Äôd still wear it because it was free. Typical you behaviour.</p>

            <p>I love your great taste in food and how you somehow always find a way to get it cheaper or free with your deals and coupons.</p>

            <p>I love when you secretly admire my muscles but you don't say anything about it.</p>

            <p>I love how you like to bite my head off for every stupid thing that I do. I act like a child, and even though you bite my head off for it, deep down, I know it‚Äôs because you care. <3</p>

            <p>I love how adorable you become when you really want me to buy you something, and how your happiness afterwards is just pure bliss.</p>

            <p>I love your artistic side the way you decorate, accessorise, and bring beauty into everything you touch. And those little gestures you make by holding my hand, giving me a kiss, or patting my head. They mean the world to me when you become romantic like that.</p>

            <p>You may be the nonchalant type, while I‚Äôm the overly romantic one, you may not always match my crazy energy or my love for cheesy gestures, and yes, I‚Äôll probably tease you for it sometimes.</p>

            <p class="closing">I love you, Emilia. You‚Äôve brightened my world in ways I can‚Äôt describe. I don‚Äôt want to spend a single moment of my future without you in it. I want to share every new-memory, every challenge, and every joy with you. Let me be the man who makes you happy, let me be the one who will be able to fulfil every desire and need you crave and want in this relationship.</p>

            <p class="closing">Te iubesc, iubirea mea.</p>

            <div class="signature">From your loving partner,<br>Rami</div>

            <div class="wax-seal">R</div>

            </article>
        </div>

      </div>

    <div class="content-section" id="playlistSection">
      <button class="back-btn" onclick="backToMenu()">‚Üê Back to Menu</button>
      <h1>Playlist that made me think of you </h1>
      <iframe data-testid="embed-iframe" style="border-radius:12px" src="https://open.spotify.com/embed/playlist/5OpxlHhRILCtHqiGNBMchA?utm_source=generator" width="100%" height="352" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>
    </div>
  </div>

  <script>
    const prompts = [
      "Do you love me?",
      "Are u sure bro, take ur time just think about it",
      "Really? i made u a whole website and everything and u say no",
      "Come on, not even a little bit?",
      "i'll give u money, just say yes",
      "STILL NO???",
      "What if i said pls and that your pretty",
      "Say yes or im telling ur mom that you dont love me so she can beat you"
    ];

    let noClickCount = 0;
    const maxNoClicks = 5;
    const yesBtn = document.getElementById('yesBtn');
    const noBtn = document.getElementById('noBtn');
    const promptText = document.getElementById('prompt');
    const questionSection = document.getElementById('questionSection');
    const menuSection = document.getElementById('menuSection');

    // Store all content sections for easy access
    const allContentSections = document.querySelectorAll('.content-section');

    // --- üëá START OF NEW JS BLOCK FOR WAX SEAL üëá ---
    const letter = document.querySelector('.letter');
    const waxSeal = document.querySelector('.wax-seal');

    if (letter && waxSeal) {
      // Listen for scroll events *inside* the letter element
      letter.addEventListener('scroll', () => {
        // If the user has scrolled down more than 30 pixels
        if (letter.scrollTop > 500) {
          waxSeal.classList.add('visible');
        } else {
          // Otherwise, hide it again (if they scroll to top)
          waxSeal.classList.remove('visible');
        }
      });
    }
    // --- üëÜ END OF NEW JS BLOCK üëÜ ---

    function createConfetti() {
      for (let i = 0; i < 80; i++) {
        setTimeout(() => {
          const c = document.createElement('div');
          c.className = 'confetti';
          c.style.position = 'fixed';
          c.style.width = '10px';
          c.style.height = '10px';
          c.style.left = Math.random() * 100 + '%';
          c.style.top = '-10px';
          c.style.background = ['#ff6b9d','#ffd93d','#6bcf7f','#667eea','#f093fb'][Math.floor(Math.random()*5)];
          c.style.animation = 'confettiFall 3s ease-out forwards';
          document.body.appendChild(c);
          setTimeout(() => c.remove(), 3000);
        }, i * 30);
      }
    }

    function moveNoButton() {
      const padding = 12;
      const visualNudge = 6;

      const winW = window.innerWidth;
      const winH = window.innerHeight;

      const rect = noBtn.getBoundingClientRect();
      const btnWidth = rect.width || 80;
      const btnHeight = rect.height || 40;

      const minX = padding;
      const minY = padding;
      const maxX = Math.max(minX, winW - btnWidth - padding);
      const maxY = Math.max(minY, winH - btnHeight - padding);

      let newX = Math.random() * (maxX - minX) + minX;
      let newY = Math.random() * (maxY - minY) + minY;

      newX = Math.max(minX, Math.min(newX, maxX));
      newY = Math.max(minY, Math.min(newY, maxY));

      if (noBtn.parentElement !== document.body) {
        noBtn._originalParent = noBtn.parentElement;
        document.body.appendChild(noBtn);
      }

      noBtn.classList.add('runaway');
      noBtn.style.left = `${Math.round(newX)}px`;
      noBtn.style.top = `${Math.round(newY)}px`;
      noBtn.style.right = 'auto';
      noBtn.style.bottom = 'auto';
      noBtn.style.zIndex = '10000';

      noBtn.style.transform = `translateY(-${visualNudge}px)`;
      setTimeout(() => { noBtn.style.transform = ''; }, 180);
    }

    function activateRunawayMode() {
      if (noBtn.parentElement !== document.body) {
        noBtn._originalParent = noBtn.parentElement;
        document.body.appendChild(noBtn);
      }
      noBtn.classList.add('runaway');
      noBtn.style.position = 'fixed';
      noBtn.style.zIndex = '10000';

      const onMove = (e) => {
        if (!noBtn.classList.contains('runaway')) return;

        const rect = noBtn.getBoundingClientRect();
        const dx = e.clientX - (rect.left + rect.width / 2);
        const dy = e.clientY - (rect.top + rect.height / 2);
        const distance = Math.sqrt(dx * dx + dy * dy);

        if (distance < 120) {
          moveNoButton();
        }
      };

      document.addEventListener('mousemove', onMove);
      noBtn.addEventListener('mouseenter', () => { moveNoButton(); });
      noBtn._runawayListeners = { onMove };
    }


    noBtn.addEventListener('click', (e) => {
      if (noBtn.classList.contains('runaway')) {
        e.preventDefault();
        moveNoButton();
        return;
      }

      noClickCount++;

      if (noClickCount < maxNoClicks) {
        promptText.textContent = prompts[noClickCount];
        yesBtn.style.transform = `scale(${1 + noClickCount * 0.12})`;
      } else if (noClickCount >= maxNoClicks) {
        promptText.textContent = "Try to click No now you slow ass mf";
        yesBtn.style.transform = 'scale(1.2)';
        activateRunawayMode();
        moveNoButton();
      }
    });

    yesBtn.addEventListener('click', () => {
      try {
        if (noBtn) {
          if (noBtn._runawayListeners && noBtn._runawayListeners.onMove) {
            document.removeEventListener('mousemove', noBtn._runawayListeners.onMove);
          }
          noBtn.remove();
        }
      } catch (err) {
        console.warn('Could not fully remove No button:', err);
        if (noBtn) noBtn.style.display = 'none';
      }

      createConfetti();
      questionSection.innerHTML = `
        <div>
          <p class = "prompt"> I knew it silly you love me soooo much im ur soulmate fr fr </p>
          <p class="prompt">I love you too Emiliaaa </p>
          <p style="color:white;">Loading your surprises...</p>
        </div>
      `;
      setTimeout(() => {
        questionSection.style.display = 'none';
        menuSection.style.display = 'block'; // Show the menu
        menuSection.classList.add('active'); // Animate it in
      }, 3000);
    });

    /**
     * ---- NEW FUNCTION ----
     * Hides the menu and all content sections, then shows
     * and animates the one you want.
     */
    function showSection(sectionName) {
      // 1. Hide the menu
      menuSection.style.display = 'none';
      menuSection.classList.remove('active');

      // 2. Hide ALL content sections
      allContentSections.forEach(section => {
        section.style.display = 'none';
        section.classList.remove('active');
      });

      // 3. Show and animate the target section
      const target = document.getElementById(sectionName + 'Section');
      target.style.display = 'block';
      target.classList.add('active');
    }

    /**
     * ---- NEW FUNCTION ----
     * Hides all content sections, then shows
     * and animates the menu.
     */
    function backToMenu() {
      // 1. Hide ALL content sections
      allContentSections.forEach(section => {
        section.style.display = 'none';
        section.classList.remove('active');
      });

      // 2. Show and animate the menu
      menuSection.style.display = 'block';
      menuSection.classList.add('active');
    }
  </script>
</body>
</html>